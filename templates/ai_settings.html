<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Settings - Whisper Transcriber</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>⚙️ Pengaturan AI</h1>
            <a href="/" class="btn btn-secondary">← Kembali</a>
        </div>
        
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-info alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <div class="card">
            <div class="card-header">
                <h5>OpenRouter API Key</h5>
            </div>
            <div class="card-body">
                <p>Untuk menggunakan fitur AI, Anda perlu API key dari OpenRouter.</p>
                <p><strong>Cara mendapatkan API key:</strong></p>
                <ol>
                    <li>Kunjungi <a href="https://openrouter.ai/keys" target="_blank">https://openrouter.ai/keys</a></li>
                    <li>Daftar atau login ke akun Anda</li>
                    <li>Buat API key baru</li>
                    <li>Copy dan paste API key di bawah</li>
                </ol>
                
                <form method="post" action="/save-api-key">
                    <div class="mb-3">
                        <label for="api_key" class="form-label">OpenRouter API Key</label>
                        <input type="password" class="form-control" id="api_key" name="api_key" 
                               placeholder="Masukkan API key Anda">
                        <div class="form-text">
                            API key akan disimpan secara lokal dan tidak dikirim ke server lain.
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">💾 Simpan API Key</button>
                </form>
                
                {% if api_key %}
                    <div class="alert alert-success mt-3">
                        ✅ API key sudah diatur. Anda dapat menggunakan fitur AI.
                    </div>
                {% endif %}
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5>Model AI yang Tersedia (Free)</h5>
            </div>
            <div class="card-body">
                <ul>
                    <li><strong>mistralai/mistral-7b-instruct:free</strong> - Model dasar, cepat, gratis</li>
                    <li><strong>google/gemma-2-9b-it:free</strong> - Model Google, kualitas baik</li>
                    <li><strong>microsoft/phi-3-mini-128k-instruct:free</strong> - Model Microsoft</li>
                    <li><strong>openchat/openchat-7b:free</strong> - Model open source</li>
                </ul>
                <p class="text-muted">
                    Semua model di atas gratis untuk penggunaan dasar. Untuk model premium, 
                    silakan cek <a href="https://openrouter.ai/models" target="_blank">daftar model OpenRouter</a>.
                </p>
                <a href="/ai-models" class="btn btn-info">🌐 Lihat Semua Model</a>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5>Akses Cepat</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-2">
                        <a href="/ai-models" class="btn btn-outline-info w-100">
                            🤖 Model AI
                        </a>
                    </div>
                    <div class="col-md-4 mb-2">
                        <a href="/reports" class="btn btn-outline-success w-100">
                            📊 Laporan AI
                        </a>
                    </div>
                    <div class="col-md-4 mb-2">
                        <a href="/" class="btn btn-outline-primary w-100">
                            🏠 Beranda
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>